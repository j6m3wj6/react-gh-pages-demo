(this["webpackJsonptymphany-bidding"]=this["webpackJsonptymphany-bidding"]||[]).push([[0],{235:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),i=n.n(c),s=n(65),r=n.n(s),d=(n(234),n(235),n(60)),l=n.n(d),o=n(96),j=n(39),b=n(347),h=n(343),u=n(216),m=n(212),p=n.n(m);var x=function(){var e=i.a.useState(!1),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{inverted:!0,children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(b.a.Item,{as:"a",header:!0,children:[Object(a.jsx)(u.a,{size:"mini",src:"/tymphany-bidding-demo/img/tymphany-logo.png",style:{marginRight:"1.5em"}}),"Tymphany Bidding Activity"]})})}),Object(a.jsx)("div",{className:"countdown",children:n?Object(a.jsx)("span",{children:"\u7af6\u6a19\u5df2\u622a\u6b62"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{style:{whiteSpace:"pre"},children:"\u8ddd\u96e2\u622a\u6b62\u5269   "}),Object(a.jsx)(p.a,{givenDate:new Date(2021,1,2,14,55),hangleTimeOut:function(){console.log("timeOut"),c(!0)}})]})})]})},O=n(161),g=n(129),f=n.n(g),v=n(215),y=n.n(v),N=n(351),w=n(346),C=n(349),k=n(344),S=n(348),F=n(58),D=function(e){var t=i.a.useState({name:"",number:"",email:"",price:""}),n=Object(j.a)(t,2),c=n[0],s=n[1],r=function(e,t){var n=t.name,a=t.value,i=c;i[n]=a,s(i)},d=function(){var t=Object(o.a)(l.a.mark((function t(){var n,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,a=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,/./.test(c.name)&&/[0-9]{7}/.test(c.number)&&a.test(c.email)&&/^\d*[05]{1}0$/.test(c.price)||(n=!1),i={_no:e._no,updateContent:{bidding:Object(O.a)(Object(O.a)({},c),{},{time:Date.now()})}},n?b(i):console.log("not complete");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("https://tymphany-bidding-server.herokuapp.com/api/bidding/append",n,{"Content-Type":"application/json"}).then((function(t){e.submitFinish(),console.log(t)})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)(N.a,{horizontal:!0,children:Object(a.jsxs)(w.a,{success:!0,style:{margin:"30px auto"},children:[Object(a.jsxs)(w.a.Field,{children:[Object(a.jsx)("label",{id:"movie",children:"\u59d3\u540d (Name)"}),Object(a.jsx)(w.a.Input,{required:!0,placeholder:"Tong Wang",name:"name",onChange:r})]}),Object(a.jsxs)(w.a.Field,{children:[Object(a.jsx)("label",{children:"\u5de5\u865f (EmployeeID)"}),Object(a.jsx)(w.a.Input,{required:!0,pattern:"[0-9]{7}",placeholder:"2000xxx",name:"number",onChange:r})]}),Object(a.jsxs)(w.a.Field,{children:[Object(a.jsx)("label",{children:"Email "}),Object(a.jsx)(w.a.Input,{required:!0,type:"email",placeholder:"tong.wang@tymphany.com",name:"email",onChange:r})]}),Object(a.jsxs)(w.a.Field,{children:[Object(a.jsx)("label",{children:"\u51fa\u50f9 (Bidding Price) "}),Object(a.jsx)(w.a.Input,{required:!0,pattern:"^\\d*[05]{1}0$",placeholder:"\u8acb\u8f38\u516550\u7684\u500d\u6578 ",title:"\u8acb\u8f38\u516550\u7684\u500d\u6578\u3002 This number must be in multiples of 50",name:"price",onChange:r}),Object(a.jsx)("span",{className:"caption",children:"*This number must be in multiples of 50"})]}),Object(a.jsx)(C.a,{type:"submit",onClick:d,children:"Submit"})]})})},I=function(e){var t=i.a.useState(e.biddingData),n=Object(j.a)(t,2),c=n[0];n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"detail",children:[Object(a.jsxs)("span",{className:"conditions",children:[Object(a.jsx)("strong",{children:" Check: "}),e.data.conditions]}),Object(a.jsxs)("p",{className:"shortage",children:[Object(a.jsx)("strong",{children:" Shortage: "})," ",e.data.shortage]})]}),Object(a.jsx)(k.a,{horizontal:!0,children:"History"}),Object(a.jsx)(S.a,{divided:!0,relaxed:!0,className:"bidding",children:c.length>0&&c.map((function(e,t){return Object(a.jsxs)(S.a.Item,{children:[Object(a.jsx)(S.a.Content,{floated:"right",children:Object(a.jsxs)("h5",{className:"bidding-name",children:["$",e.price]})}),Object(a.jsx)(S.a.Icon,{name:"dollar",size:"large",verticalAlign:"middle"}),Object(a.jsxs)(S.a.Content,{children:[Object(a.jsx)("h5",{className:"bidding-name",children:e.name}),Object(a.jsx)("p",{className:"bidding-time",children:y()(e.time).format("MMMM Do YYYY, h:mm:ss a")})]})]})}))})]})};var z=function(e){e.data.length&&e.data.length;var t=i.a.useState(-1),n=Object(j.a)(t,2),c=n[0],s=n[1],r=i.a.useState(-1),d=Object(j.a)(r,2),l=d[0],o=d[1],b=function(e){s(e.target.name),o(-1)},h=function(e){o(e.target.name),s(-1)},m=function(){o(-1),s(-1)},p=function(){o(-1)},x=function(e){var t=e.data,n=e.index,i=t.bidding;i.sort((function(e,t){return t.price-e.price}));var s=i.length>0?"\u5373\u6642\u51fa\u50f9 $ ".concat(i[0].price):"\u5c1a\u672a\u6709\u4eba\u51fa\u50f9";return Object(a.jsxs)("div",{className:"tg_card",children:[Object(a.jsx)("div",{className:"img-content",children:Object(a.jsx)(u.a,{className:"img",centered:!0,src:"/tymphany-bidding-demo"+"/img/".concat(t._no,".jpg")})}),Object(a.jsxs)("div",{style:{height:"fit-content"},children:[Object(a.jsxs)("h5",{className:"brand",children:[" ","#".concat(t._no," ").concat(t.module)]}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(a.jsx)("p",{children:t.brand}),Object(a.jsxs)("p",{style:{marginRight:"8px"},children:["pcs: ",t.pcs]})]}),t.set.length>0&&Object(a.jsxs)("p",{className:"set",children:["set with: ",t.set]})]}),Object(a.jsx)(k.a,{}),Object(a.jsx)("div",{children:Object(a.jsxs)("p",{className:"price-title",children:[" ",s]})}),Object(a.jsxs)("div",{className:"operations-buttons",children:[Object(a.jsx)(C.a,{inverted:!0,color:"blue",className:"operation-button",name:n,onClick:b,children:" Detail "}),Object(a.jsx)(C.a,{inverted:!0,color:"red",className:"operation-button",name:n,onClick:h,children:" Bid "}),(n==c||n==l)&&Object(a.jsx)(F.a,{name:"chevron up",bordered:!0,style:{minWidth:"30px",margin:"auto",borderRadius:"3px"},onClick:m})]}),n==c&&Object(a.jsx)(I,{data:t,biddingData:i}),n==l&&Object(a.jsx)(D,{_no:t._no,submitFinish:p})]})};return Object(a.jsx)(a.Fragment,{children:e.data.map((function(e,t){return Object(a.jsx)(x,{data:e,index:t})}))})},A=n(352),_=n(345);var T=function(e){var t=i.a.useState({}),n=Object(j.a)(t,2),s=n[0],r=n[1],d=i.a.useState({name:"",number:""}),b=Object(j.a)(d,2),h=(b[0],b[1],function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://tymphany-bidding-server.herokuapp.com/api/bidding");case 2:t=e.sent,console.log("fetchResource",t),r(t.data.content);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){h()}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(x,{}),s.length>0?Object(a.jsx)(A.a.Group,{horizontal:!0,textAlign:"center",children:Object(a.jsx)(z,{data:s})}):Object(a.jsx)("div",{className:"loader-container",children:Object(a.jsx)(_.a,{active:!0,inline:"centered",className:"loader"})})]})};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root"))}},[[331,1,2]]]);
//# sourceMappingURL=main.0f0891cf.chunk.js.map