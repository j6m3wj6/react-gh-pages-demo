{"version":3,"sources":["components/Header.js","components/Product.js","Bidding.js","index.js"],"names":["Header","React","useState","timeOut","setTimeOut","Menu","inverted","Container","Item","as","header","Image","size","src","process","style","marginRight","className","whiteSpace","givenDate","Date","hangleTimeOut","console","log","BiddingInfo","props","name","number","email","price","info","setInfo","handleChange","e","value","newInfo","handleSubmit","a","inputValid","emailFormat","test","updateData","_no","updateContent","bidding","time","now","submitBidding","data","axios","post","then","response","submitFinish","catch","error","Grid","horizontal","Form","success","margin","Field","id","Input","required","placeholder","onChange","pattern","type","title","Button","onClick","DetailInfo","biddingData","conditions","shortage","Divider","List","divided","relaxed","length","map","_d","index","Content","floated","Icon","verticalAlign","moment","format","Product","showDetail","setDetail","showBid","setBid","handleOnClickDetail","event","target","handleOnClickBid","chevronUp","Card","sort","b","heighestPrice","centered","height","module","display","flexDirection","justifyContent","brand","pcs","set","color","bordered","minWidth","borderRadius","Bidding","setData","fetchResource","get","res","content","useEffect","Segment","Group","textAlign","Loader","active","inline","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f0891cf.chunk.js","sourcesContent":["import React from 'react'\nimport { \n  Menu, \n  Container, \n  Image, \n} from 'semantic-ui-react'\nimport Countdown from 'react-countdown-to-future-date';\n\n\nfunction Header() {\n  const [timeOut, setTimeOut] = React.useState(false)\n  const hangleTimeOut = () => {\n    console.log('timeOut')\n    setTimeOut(true);\n  }\n  return (\n    <>\n    <Menu inverted>\n      <Container>\n        <Menu.Item as='a' header>\n          <Image size='mini' src={process.env.PUBLIC_URL+ '/img/tymphany-logo.png'} style={{ marginRight: '1.5em' }} />\n          Tymphany Bidding Activity\n          {/* 2020歲末 帶顆喇叭回家！ */}\n        </Menu.Item>\n        \n      </Container>\n      \n    </Menu>\n    <div className=\"countdown\">\n      \n      {timeOut? \n        <span>競標已截止</span>\n      :\n      <>\n        <span style={{whiteSpace:'pre'}}>距離截止剩   </span>\n        <Countdown givenDate = {new Date(2021, 1, 2, 14, 55)} hangleTimeOut={hangleTimeOut} />\n      </>\n      }\n    </div>\n    </>\n  );\n}\n\nexport default Header;\n","import React, { useEffect } from 'react'\nimport axios from 'axios'\nimport moment from 'moment' \nimport { \n  Image, \n  Icon,\n  Button,\n  Divider,\n  Grid,\n  Form,\n  List,\n  Loader\n} from 'semantic-ui-react'\n\n\nconst BiddingInfo = (props) => {\n  const [info, setInfo] = React.useState({name: '', number: '', email:'', price: ''});\n  \n  const handleChange = (e , { name, value }) => {\n    const newInfo = info;\n    newInfo[name] = value;\n    setInfo(newInfo);\n  }\n  const handleSubmit = async () => {\n    let inputValid = true;\n    const emailFormat = /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/;\n    if ( !/./.test(info.name) || !/[0-9]{7}/.test(info.number) || \n        !emailFormat.test(info.email) || \n        !/^\\d*[05]{1}0$/.test(info.price))\n      inputValid = false\n    \n    const updateData = {\n        _no: props._no,\n        updateContent: {\n            bidding: {\n                ...info,\n                time: Date.now()\n            }\n        }\n    }\n    if (inputValid) submitBidding(updateData)\n    else console.log(\"not complete\")\n  }\n\n  const submitBidding = async (data) => {\n    return await axios.post('https://tymphany-bidding-server.herokuapp.com/api/bidding/append', \n      data, \n      {'Content-Type': 'application/json'})\n        .then((response) => {\n          props.submitFinish();\n          console.log(response)\n        })\n        .catch((error) => {\n          console.log(error)\n      })\n  }\n\n\n  return (\n    <Grid horizontal >\n      <Form success style={{  margin: '30px auto' }} >\n      <Form.Field>\n        <label id='movie'>姓名 (Name)</label>\n        <Form.Input\n          required={true}\n          placeholder='Tong Wang'\n          name='name'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <Form.Field>\n        <label>工號 (EmployeeID)</label>\n        <Form.Input\n          required={true}\n          pattern=\"[0-9]{7}\"\n          placeholder='2000xxx'\n          name='number'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <Form.Field>\n        <label>Email </label>\n        <Form.Input\n          required={true}\n          type='email'\n          placeholder='tong.wang@tymphany.com'\n          name='email'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <Form.Field >\n        <label>出價 (Bidding Price) </label>\n        <Form.Input \n          required={true}\n          pattern=\"^\\d*[05]{1}0$\"\n          placeholder='請輸入50的倍數 '\n          title=\"請輸入50的倍數。 This number must be in multiples of 50\"\n          name='price'\n          onChange={handleChange}\n        />\n        <span className=\"caption\">*This number must be in multiples of 50</span>\n      </Form.Field>\n      \n      {/* <Message\n        success\n        header='Form Completed'\n        content=\"Check the bidding status\"\n      /> */}\n      \n      <Button type='submit' onClick={handleSubmit}>Submit</Button>\n    </Form>\n    </Grid>\n  )\n}\n\nconst DetailInfo = (props) => {\n  const [biddingData, setData] = React.useState(props.biddingData)\n  // const fetchResource = async() => {\n  //   const res = await axios.get(\n  //     `https://tymphany-bidding-server.herokuapp.com/api/bidding?_no=${props.data._no}`\n  //   )\n  //   setData(res.data.content[0].bidding)\n  // }\n  // useEffect(() => { \n  //   fetchResource();\n  // }, [])\n  \n  return (\n    <>\n      <div className='detail'>\n        <span className='conditions'><strong> Check: </strong>{props.data.conditions}</span>\n        <p className='shortage'><strong> Shortage: </strong> {props.data.shortage}</p>\n      </div>\n      <Divider horizontal>History</Divider>\n      <List divided relaxed className='bidding'>\n        {biddingData.length > 0 && biddingData.map((_d, index) => {\n          return(\n            <List.Item>\n              <List.Content floated='right'>\n                  <h5 className='bidding-name'>${_d.price}</h5>\n              </List.Content>\n              <List.Icon name='dollar' size='large' verticalAlign='middle' />\n              \n              <List.Content>\n                  <h5 className='bidding-name'>{_d.name}</h5>\n                  <p className='bidding-time'>{moment(_d.time).format(\"MMMM Do YYYY, h:mm:ss a\")}</p>\n                \n              </List.Content>\n            </List.Item>\n          )\n        })} \n      </List>\n    </>\n  )\n}\n\nfunction Product(props) {\n  const dataLength = props.data.length? props.data.length : 0;\n  const [showDetail, setDetail] = React.useState(-1);\n  const [showBid, setBid] = React.useState(-1);\n  \n  const handleOnClickDetail = (event) => {\n    setDetail(event.target.name)\n    setBid(-1)\n  }\n  const handleOnClickBid= (event) => {\n    setBid(event.target.name)\n    setDetail(-1)\n  }\n  const chevronUp = () => {\n    setBid(-1)\n    setDetail(-1)\n  }\n  \n  \n  const submitFinish = () => { setBid(-1) }\n\n  const Card = ({data, index} ) => {\n    const biddingData = data.bidding\n    biddingData.sort(function(a, b) {\n        return (b.price - a.price)\n    });\n\n    const heighestPrice = biddingData.length > 0? `即時出價 $ ${biddingData[0].price}`: '尚未有人出價'\n    \n    return (\n      <div className='tg_card' >\n        <div className='img-content'>\n          <Image className='img' centered src={process.env.PUBLIC_URL+ `/img/${data._no}.jpg`}/>\n        </div>\n        <div style={{ height: 'fit-content' }}>\n          <h5 className='brand'> {`#${data._no} ${data.module}`}</h5>\n          <div style={{display:'flex', flexDirection: 'row', justifyContent:\"space-between\"}}>\n            <p>{data.brand}</p>\n            <p style={{marginRight: '8px'}}>pcs: {data.pcs}</p>\n          </div>\n          {data.set.length>0 && <p className='set'>set with: {data.set}</p>}\n        </div>\n        <Divider />\n        <div>\n          <p className='price-title'> {heighestPrice}</p>\n        </div>\n        <div className='operations-buttons'>\n          <Button inverted color='blue' className='operation-button' name={index} onClick={handleOnClickDetail}> Detail </Button>\n          <Button inverted color='red' className='operation-button' name={index} onClick={handleOnClickBid}> Bid </Button>\n          {(index == showDetail || index == showBid) && <Icon name=\"chevron up\" bordered style={{minWidth: '30px', margin: 'auto', borderRadius: '3px'}} onClick={chevronUp}/>}\n        </div>\n        {index == showDetail && <DetailInfo data={data} biddingData={biddingData} />}\n        {index == showBid && <BiddingInfo _no={data._no} submitFinish={submitFinish}/>}\n      </div>   \n    )\n  }\n\n  return (\n    <>\n      {props.data.map((_d, index) => \n        <Card data={_d} index={index} />)}\n    </>\n    \n  );\n}\n\nexport default Product;\n","import React, { useEffect } from 'react';\nimport Headers from './components/Header'\nimport Product from './components/Product'\nimport { \n  Segment,\n  Loader\n} from 'semantic-ui-react'\nimport axios from 'axios' \n\n\nfunction Bidding (props) {\n  const [data, setData] = React.useState({});\n  const [info, setInfo] = React.useState({name: '', number: ''});\n  const handleChange = (e , { name, value }) => {\n    const newInfo = info;\n    newInfo[name] = value;\n    setInfo(newInfo);\n    console.log(info)\n  }\n\n\n\n  const fetchResource = async() => {\n    const res = await axios.get(\n      'https://tymphany-bidding-server.herokuapp.com/api/bidding'\n    )\n    // const res = await axios.get(\n    //   'http://localhost:5000/api/bidding'\n    // )\n    console.log('fetchResource', res)\n    setData(res.data.content)\n  }\n  useEffect(() => { \n    fetchResource();\n  }, [])\n  return (\n    <div className=\"App\">\n      <Headers />\n      {data.length > 0 ? \n        <Segment.Group horizontal textAlign='center'>\n          <Product data={data}/>\n        </Segment.Group>\n      :\n        <div className='loader-container' >\n          <Loader active inline='centered' className='loader' />\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default Bidding;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\n// import App from './App';\nimport Bidding from './Bidding';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Bidding /> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}