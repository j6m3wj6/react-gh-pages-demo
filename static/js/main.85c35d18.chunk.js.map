{"version":3,"sources":["components/Header.js","components/Product.js","Bidding.js","index.js"],"names":["Header","Menu","inverted","Container","Item","as","header","Image","size","src","process","style","marginRight","BiddingInfo","props","React","useState","name","number","email","price","info","setInfo","handleChange","e","value","newInfo","handleSubmit","a","completeInfo","Object","values","forEach","element","length","updateData","_no","updateContent","bidding","time","Date","now","submitBidding","console","log","data","axios","put","then","response","submitFinish","catch","error","Grid","horizontal","Form","success","margin","Field","id","Input","placeholder","onChange","Button","type","onClick","DetailInfo","setData","setContent","fetchResource","get","res","content","sort","b","useEffect","List","divided","relaxed","className","map","_d","index","Content","floated","Icon","verticalAlign","moment","format","Product","dataLength","showDetail","setDetail","showBid","setBid","handleOnClickDetail","event","target","handleOnClickBid","chevronUp","Card","centered","height","module","brand","Divider","color","bordered","minWidth","borderRadius","Bidding","Segment","Group","textAlign","flexWrap","justifyContent","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85c35d18.chunk.js","sourcesContent":["// import logo from '../img/tymphany-logo.png';\nimport { \n  Menu, \n  Container, \n  Image, \n} from 'semantic-ui-react'\n\nfunction Header() {\n  return (\n    <Menu inverted>\n      <Container>\n        <Menu.Item as='a' header>\n          <Image size='mini' src={process.env.PUBLIC_URL+ '/img/tymphany-logo.png'} style={{ marginRight: '1.5em' }} />\n          Tymphany Bidding Activity\n          {/* 2020歲末 帶顆喇叭回家！ */}\n        </Menu.Item>\n        <Menu.Item as='a'>Home</Menu.Item>\n      </Container>\n    </Menu>\n  );\n}\n\nexport default Header;\n","import React, { useEffect } from 'react'\nimport axios from 'axios'\nimport moment from 'moment' \nimport { \n  Image, \n  Icon,\n  Button,\n  Divider,\n  Grid,\n  Form,\n  List\n} from 'semantic-ui-react'\n\n\nconst BiddingInfo = (props) => {\n  const [info, setInfo] = React.useState({name: '', number: '', email:'', price: ''});\n  const handleChange = (e , { name, value }) => {\n    const newInfo = info;\n    newInfo[name] = value;\n    setInfo(newInfo);\n    // console.log(info)\n  }\n  const handleSubmit = async () => {\n    let completeInfo = true;\n    Object.values(info).forEach(element => {\n      if (element.length == 0) completeInfo=false;\n    });\n    const updateData = {\n        _no: props._no,\n        updateContent: {\n            bidding: {\n                ...info,\n                time: Date.now()\n            }\n        }\n    }\n    if (completeInfo) submitBidding(updateData)\n    else console.log(\"not complete\")\n  }\n  const submitBidding = async (data) => {\n    return await axios.put('https://tymphany-bidding-server.herokuapp.com/api/bidding', \n      data, \n      {'Content-Type': 'application/json'})\n        .then((response) => {\n          props.submitFinish();\n          console.log(response)\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n  }\n  return (\n    <Grid horizontal >\n      <Form success style={{  margin: '30px auto' }} >\n      <Form.Field>\n        <label id='movie'>姓名 (Name)</label>\n        <Form.Input\n          placeholder='Tong Wang'\n          name='name'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <Form.Field>\n        <label>工號 (EmployeeID)</label>\n        <Form.Input\n          placeholder='2000xxx'\n          name='number'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <Form.Field>\n        <label>Email </label>\n        <Form.Input\n          placeholder='tong.wang@tymphany.com'\n          name='email'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      <Form.Field>\n        <label>出價 (Bidding Price) </label>\n        <Form.Input\n          placeholder='tong.wang@tymphany.com'\n          name='price'\n          onChange={handleChange}\n        />\n      </Form.Field>\n      \n      {/* <Message\n        success\n        header='Form Completed'\n        content=\"Check the bidding status\"\n      /> */}\n      \n      <Button type='submit' onClick={handleSubmit}>Submit</Button>\n    </Form>\n    </Grid>\n  )\n}\n\nconst DetailInfo = (props) => {\n  const [data, setData] = React.useState({})\n  const [showContent, setContent] = React.useState(false)\n  const fetchResource = async() => {\n    // const res = await axios.get(\n    //   'https://tymphany-bidding-server.herokuapp.com/api/bidding'\n    // )\n    const res = await axios.get(\n      `http://localhost:5000/api/bidding?_no=${props._no}`\n    )\n    // console.log('fetchResource', res.data.content[0].bidding)\n    setData(res.data.content[0].bidding)\n    \n    res.data.content[0].bidding.sort(function(a, b) {\n      return (b.price - a.price)\n    });\n\n    setContent(true)\n  }\n  useEffect(() => { \n    fetchResource();\n  }, [])\n  \n  return (\n    <>\n      <List divided relaxed className='detail'>\n        {data.length > 0 && data.map((_d, index) => {\n          return(\n            <List.Item>\n              <List.Content floated='right'>\n                  <h5 className='detail-name'>${_d.price}</h5>\n              </List.Content>\n              <List.Icon name='dollar' size='large' verticalAlign='middle' />\n              \n              <List.Content>\n                  <h5 className='detail-name'>{_d.name}</h5>\n                  <p className='detail-time'>{moment(_d.time).format(\"MMMM Do YYYY, h:mm:ss a\")}</p>\n                \n              </List.Content>\n              \n              \n            </List.Item>\n          )\n        })} \n      </List>\n    </>\n  )\n}\n\nfunction Product(props) {\n  const dataLength = props.data.length? props.data.length : 0;\n  const [showDetail, setDetail] = React.useState(-1);\n  const [showBid, setBid] = React.useState(-1);\n\n  const handleOnClickDetail = (event) => {\n    // console.log(event.target.name)\n    setDetail(event.target.name)\n    setBid(-1)\n  }\n  const handleOnClickBid= (event) => {\n    // console.log(event.target.name)\n    setBid(event.target.name)\n    setDetail(-1)\n  }\n  const chevronUp = () => {\n    setBid(-1)\n    setDetail(-1)\n  }\n  \n  const submitFinish = () => {\n    setBid(-1)\n  }\n\n  const Card = ({data, index} ) => {\n    return (\n      <div className='tg_card' >\n        <Image className='img' centered src={process.env.PUBLIC_URL+ `/img/${data._no}.jpg`}/>\n        <div style={{ height: 'fit-content' }}>\n          <h5 className='brand'> {data.module}</h5>\n          <p>{data.brand}</p>\n        </div>\n        <Divider />\n        <div>\n          <p className='price-title'> 即時出價 $ </p>\n        </div>\n        <div className='operations-buttons'>\n          <Button inverted color='blue' className='operation-button' name={index} onClick={handleOnClickDetail}> Detail </Button>\n          <Button inverted color='red' className='operation-button' name={index} onClick={handleOnClickBid}> Bid </Button>\n          {(index == showDetail || index == showBid) && <Icon name=\"chevron up\" bordered style={{minWidth: '30px', margin: 'auto', borderRadius: '3px'}} onClick={chevronUp}/>}\n        </div>\n        {index == showDetail && <DetailInfo _no={data._no} />}\n        {index == showBid && <BiddingInfo _no={data._no} submitFinish={submitFinish}/>}\n      </div>   \n    )\n  }\n\n  return (\n    <>\n    {dataLength > 0? \n      props.data.map((_d, index) => \n        <Card data={_d} index={index} />)\n      :\n      <>\n\n      </>\n    }\n    </>\n    \n  );\n}\n\nexport default Product;\n","import React, { useEffect } from 'react';\nimport Headers from './components/Header'\nimport Product from './components/Product'\nimport { \n  Form,\n  Button,\n  Checkbox,\n  Segment,\n  Grid,\n  Message,\n} from 'semantic-ui-react'\n\nimport axios from 'axios' \n\nconst sample1 = {\n  \"_no\": \"1\",\n  \"brand\": \"iHome\",\n  \"module\": \"IBN97\",\n  \"color\": \"Grey\",\n  \"type\": \"Sealed\"\n}\n\nfunction Bidding (props) {\n  const [data, setData] = React.useState({});\n  const [info, setInfo] = React.useState({name: '', number: ''});\n  const handleChange = (e , { name, value }) => {\n    const newInfo = info;\n    newInfo[name] = value;\n    setInfo(newInfo);\n    console.log(info)\n  }\n\n\n\n  const fetchResource = async() => {\n    // const res = await axios.get(\n    //   'https://tymphany-bidding-server.herokuapp.com/api/bidding'\n    // )\n    const res = await axios.get(\n      'http://localhost:5000/api/bidding'\n    )\n    console.log('fetchResource', res)\n    setData(res.data.content)\n  }\n  useEffect(() => { \n    fetchResource();\n  }, [])\n  return (\n    <div className=\"App\">\n      <Headers />\n      <Segment.Group horizontal  textAlign='center' style={{ flexWrap: 'wrap', justifyContent: 'space-around' }}>\n        <Product data={data}/>\n      </Segment.Group>\n    </div>\n  );\n}\n\nexport default Bidding;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\n// import App from './App';\nimport Bidding from './Bidding';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Bidding /> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}