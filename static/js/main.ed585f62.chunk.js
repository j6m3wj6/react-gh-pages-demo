(this["webpackJsonptymphany-bidding"]=this["webpackJsonptymphany-bidding"]||[]).push([[0],{151:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),i=n(50),s=n.n(i),o=(n(150),n(151),n(30)),d=n.n(o),l=n(71),j=n(34),u=n(193),b=n(190),h=n(132);var m=function(){return Object(a.jsx)(u.a,{inverted:!0,children:Object(a.jsxs)(b.a,{children:[Object(a.jsxs)(u.a.Item,{as:"a",header:!0,children:[Object(a.jsx)(h.a,{size:"mini",src:"/tymphany-bidding-demo/img/tymphany-logo.png",style:{marginRight:"1.5em"}}),"Tymphany Bidding Activity"]}),Object(a.jsx)(u.a.Item,{as:"a",children:"Home"})]})})},p=n(111),x=n(77),O=n.n(x),g=n(131),f=n.n(g),v=n(197),y=n(192),w=n(195),k=n(194),C=n(191),N=n(46),I=function(e){var t=r.a.useState({name:"",number:"",email:"",price:""}),n=Object(j.a)(t,2),c=n[0],i=n[1],s=function(e,t){var n=t.name,a=t.value,r=c;r[n]=a,i(r)},o=function(){var t=Object(l.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,Object.values(c).forEach((function(e){0==e.length&&(n=!1)})),a={_no:e._no,updateContent:{bidding:Object(p.a)(Object(p.a)({},c),{},{time:Date.now()})}},n?u(a):console.log("not complete");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(l.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("https://tymphany-bidding-server.herokuapp.com/api/bidding",n,{"Content-Type":"application/json"}).then((function(t){e.submitFinish(),console.log(t)})).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)(v.a,{horizontal:!0,children:Object(a.jsxs)(y.a,{success:!0,style:{margin:"30px auto"},children:[Object(a.jsxs)(y.a.Field,{children:[Object(a.jsx)("label",{id:"movie",children:"\u59d3\u540d (Name)"}),Object(a.jsx)(y.a.Input,{placeholder:"Tong Wang",name:"name",onChange:s})]}),Object(a.jsxs)(y.a.Field,{children:[Object(a.jsx)("label",{children:"\u5de5\u865f (EmployeeID)"}),Object(a.jsx)(y.a.Input,{placeholder:"2000xxx",name:"number",onChange:s})]}),Object(a.jsxs)(y.a.Field,{children:[Object(a.jsx)("label",{children:"Email "}),Object(a.jsx)(y.a.Input,{placeholder:"tong.wang@tymphany.com",name:"email",onChange:s})]}),Object(a.jsxs)(y.a.Field,{children:[Object(a.jsx)("label",{children:"\u51fa\u50f9 (Bidding Price) "}),Object(a.jsx)(y.a.Input,{placeholder:"tong.wang@tymphany.com",name:"price",onChange:s})]}),Object(a.jsx)(w.a,{type:"submit",onClick:o,children:"Submit"})]})})},_=function(e){var t=r.a.useState({}),n=Object(j.a)(t,2),i=n[0],s=n[1],o=r.a.useState(!1),u=Object(j.a)(o,2),b=(u[0],u[1]),h=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://tymphany-bidding-server.herokuapp.com/api/bidding?_no=${props._no}");case 2:t=e.sent,s(t.data.content[0].bidding),t.data.content[0].bidding.sort((function(e,t){return t.price-e.price})),b(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){h()}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(k.a,{divided:!0,relaxed:!0,className:"detail",children:i.length>0&&i.map((function(e,t){return Object(a.jsxs)(k.a.Item,{children:[Object(a.jsx)(k.a.Content,{floated:"right",children:Object(a.jsxs)("h5",{className:"detail-name",children:["$",e.price]})}),Object(a.jsx)(k.a.Icon,{name:"dollar",size:"large",verticalAlign:"middle"}),Object(a.jsxs)(k.a.Content,{children:[Object(a.jsx)("h5",{className:"detail-name",children:e.name}),Object(a.jsx)("p",{className:"detail-time",children:f()(e.time).format("MMMM Do YYYY, h:mm:ss a")})]})]})}))})})};var F=function(e){var t=e.data.length?e.data.length:0,n=r.a.useState(-1),c=Object(j.a)(n,2),i=c[0],s=c[1],o=r.a.useState(-1),d=Object(j.a)(o,2),l=d[0],u=d[1],b=function(e){s(e.target.name),u(-1)},m=function(e){u(e.target.name),s(-1)},p=function(){u(-1),s(-1)},x=function(){u(-1)},O=function(e){var t=e.data,n=e.index;return Object(a.jsxs)("div",{className:"tg_card",children:[Object(a.jsx)(h.a,{className:"img",centered:!0,src:"/tymphany-bidding-demo"+"/img/".concat(t._no,".jpg")}),Object(a.jsxs)("div",{style:{height:"fit-content"},children:[Object(a.jsxs)("h5",{className:"brand",children:[" ",t.module]}),Object(a.jsx)("p",{children:t.brand})]}),Object(a.jsx)(C.a,{}),Object(a.jsx)("div",{children:Object(a.jsx)("p",{className:"price-title",children:" \u5373\u6642\u51fa\u50f9 $ "})}),Object(a.jsxs)("div",{className:"operations-buttons",children:[Object(a.jsx)(w.a,{inverted:!0,color:"blue",className:"operation-button",name:n,onClick:b,children:" Detail "}),Object(a.jsx)(w.a,{inverted:!0,color:"red",className:"operation-button",name:n,onClick:m,children:" Bid "}),(n==i||n==l)&&Object(a.jsx)(N.a,{name:"chevron up",bordered:!0,style:{minWidth:"30px",margin:"auto",borderRadius:"3px"},onClick:p})]}),n==i&&Object(a.jsx)(_,{_no:t._no}),n==l&&Object(a.jsx)(I,{_no:t._no,submitFinish:x})]})};return Object(a.jsx)(a.Fragment,{children:t>0?e.data.map((function(e,t){return Object(a.jsx)(O,{data:e,index:t})})):Object(a.jsx)(a.Fragment,{})})},S=n(198);var E=function(e){var t=r.a.useState({}),n=Object(j.a)(t,2),i=n[0],s=n[1],o=r.a.useState({name:"",number:""}),u=Object(j.a)(o,2),b=(u[0],u[1],function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://tymphany-bidding-server.herokuapp.com/api/bidding");case 2:t=e.sent,console.log("fetchResource",t),s(t.data.content);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){b()}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{}),Object(a.jsx)(S.a.Group,{horizontal:!0,textAlign:"center",style:{flexWrap:"wrap",justifyContent:"space-around"},children:Object(a.jsx)(F,{data:i})})]})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.ed585f62.chunk.js.map